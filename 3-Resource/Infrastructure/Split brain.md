---
created: 2023-09-28T18:01:16
updated: 2024-03-03T11:41
---
마스터노드가 1개라면, 마스터 노드에 장애가 발생하였을때 클러스터 전체가 동작하지 않는다는 문제가 있다.

![[Pasted image 20230928180134.png]]
그 이유는 위와 같이 어떠한 장애로 인해 클러스터의 노드가 3개, 2개씩 분리가 되었을 때 각각의 집합에서 서비스를 제공하고, 이후에 장애가 해결된 이후 다시 하나의 클러스터로 만들때 데이터 정합성에 문제가 생기고 데이터 무결성이 유지될 수 없다.
위 상황을 split brain이라고 한다.

split brain을 해결하는 방법에는 최소 투표 갯수를 지정하여, 최소 투표 개수 이상을 받은 후보가 마스터가 되게하는 방법, 특정 id이상의 마스터 후보만 마스터로 선출하는 방법 등이 있다

#master-slave