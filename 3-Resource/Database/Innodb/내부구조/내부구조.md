---
date: 2024-05-10 22:40:29
updatedAt: 2024-05-11 11:22:37
---

## Space - tablespace
- 각 테이블당 하나의 space가 존재
- 하나의 스페이스는 .idb파일로 구성됨
	- 하나 이상의 idb파일로 구현 될 수 있음
	- 물리적으로 하나 이상의 파일이지만, 논리적으로 단일파일 취급함
- .idb파일은 하나의 테이블에 대한 정보가 들어감
	- 하나의 .idb파일에 여러 테이블이 들어갈 수 있는 구조지만, 하나의 테이블만 넣음
- space별로 32bit 정수인 space ID가 할당됨
	- 해당 space를 참조할 목적
- InnoDB가 필요로 하는 장부를 작성하기 위해 

## Page
- 각 스페이스는 16KiB의 페이지로 나누어짐
- 오프셋 이라고하는 32bit 정수 페이지 번호가 할당됨
- 파일의 시작부분부터 해당 페이지 위치까지의 실제 오프셋임
- 페이지 0은 파일 오프셋 0, 페이지1은 오프셋은 16384(16*1024)임


## Extent
- 64개의 연속된 페이지인 1MiB블록
	- 고정된 위치에 FSP 및 XDES페이질르 할당하여 사용중인 extent와 사용중인 extent내의 페이지를 추적함


## List - free list
- 여러 관련 구조를 함께 연결할 수 있는 일반적인 구조체
### List base node
- 하이레벨구조(FSP헤더와 같은)에서 한번만 저장됨
- 리스트의 길이 및 리스트의 처음과 마지막 리스트 노드의 정보를 포함함

### List Node
- 이전과 다음 노드에 대한 포인터를 저장함

- 모든 포인터는 페이지 번호(같은 space내에 있는)와 리스트 노드를 찾을 수 있는 해당 페이지 내의 byte offset으로 구성됨
- 모든 포인터는 리스트 노드의 시작을 가르킴
- 반드시 서로 연결된 구조는 아님


## 파일 segment INODE
- INODE페이지에는 85개의 파일 segment INODE항목(16KiB)이 포함되어 있으며 각각 192bytes임
- 다음 INODE페이지 리스트에 사용되는 리스트 노드가 포함되어 있음

---
index는 물리적으로 정렬되지 않음
그냥 링크드 리스트에 있는 순서임

각각의 페이지는 다음페이지와 이전페이지의 포인터를 가지고 있음