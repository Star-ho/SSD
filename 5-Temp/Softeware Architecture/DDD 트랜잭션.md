---
date: 2024-05-07 18:16:41
updatedAt: 2024-05-07 18:16:49
---
선생님들 궁금한점 질문있습니다.
DDD에서는 한 트랜잭션은 하나의 애그리거트만 해야한다라고 알고 있습니다.
그래서 Spring Event를 사용해서 다른 애그리거트는 새로운 트랜잭션에서 처리를 한다고 가정하겠습니다.
그런데 만약 다른 애그리거트의 트랜잭션이 실패하여 (A 애그리거트 : 성공, B 애그리거트 롤백) Eventually Consistency가 보장되지 않는다면 다시 시도해야 하는데 
이럴 때는 트랜잭션 아웃박스 패턴을 활용하여 진행하는건가요??
spring eventlistener에서도 사용하는지 궁금합니다.

단일서버면 필요없죠

단일서버고 저장소격리가 안 돼 있으면

물리트랜잭션 묶는게 좋지 않을까요?

단일서버인데 애그리거트별로 트랜잭션 분리하는 건 너무 오바 같아요 개인적으로 느끼기엔