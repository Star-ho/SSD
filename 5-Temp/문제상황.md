저 질문이 하나 있습니다. 외부 API 요청하는 작업이 있는데요, 근데 이 요청이 상황에 따라서 요청 크기가 꽤 커질 떄가 있습니다. 거의 2MB까지 갈 때도 있구요

근데 문제는 이 과정에서 가끔 요청이 많이 쏠리면 ObjectMapper에서 OOM나서 죽는 경우가 있는데… Max Heap은 현재 최대로 준 상황이고 Scale up은 하기 어려운 상황이라고 가정한다면

애플리케이션에서는 어떻게 해결할 수 있을까요…? 당장 생각났던 건 현재 가용 메모리를 보고 2MB보다 작다면 명시적으로 System.gc를 수행하는 건 어떨까? 하는 접근으로 생각하고 있는데 다른 해결책은 없을까 고민중입니다 ㅇㅁㅇ

OOM이 Object Mapper에서 발생하는거면 Jackson Streaming API 찾아보시면 될거 같네용

1. 스케일업 / 힙 공간 늘리기
2. 다른 메모리 사용처 최적화
3. 데이터 최적화
4. streaming 구조로 변경하기