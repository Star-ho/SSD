---
created: 2024-03-31T22:41:00
date: 2024-04-13T22:56
---
- '변경'과 '유연한'에 대해 정의해보자

## 변경
- 어디서 변경할 수 있을까?
	- 모든 곳에서 변경이 가능하다(변경이 발생하는 정도만 다를뿐이다.)
- 비즈니스 로직
	- 간단한 조회 처럼 하나의 적은 사이드 이펙트를 가지는 부분
	- 결제금액 계산 처럼 사이드 이펙트가 큰부분
- 외부 서비스 연동
	- 통신을 어떻게 처리할것인가?
		- Http library
			- rest template, feign, webclient
	- 연동하는 업체 변경
- 라이브러리 변경
	- mybatis -> JPA
- 내부 api 호출
	- grpc, http, soap
- 인프라
	- database, 캐시, 메시지큐 종류 변경
		- mysql -> mongo db
- 프레임워크
	- spring -> ktor
- 언어
	- java -> kotlin or go
	- 버전업
		- java 8 -> java 11

- 변경이 발생하였을 때, 스트레스 받지 않고, 편하게 수정할 수 있는 구조
	- 서비스가 성장하면서, 변경은 필수적임
	- 스트레스를 어떻게 안받을 수 있을까?
		- A라는 기능이 변경되었을때, 작동하는 A기능을 찾아 변경만 하는 구조
			- 걱정되는것?
				- A라는 기능을 구현한 곳이 여러곳 일때
				- A라는 기능을 구현한 곳이 하나지만, 목적과 다른용도로 사용하는 곳이 있을 때

- 변경에 유연하게 대응하려면 중간계층이 필요하다
	- 코드가 복잡해진다
	- 모든 변경에 잘 대응하게 만들어야 할까?
	- 언어, 프레임워크의 변경의 거의 발생하지 않는다
	 - 비즈니스 로직의 변경은 자주 발생한다.

## '유연'한 구조란?
- 변경을 대응하기 위해 한곳만 수정해도 될때(여러곳에 똑같은 기능을 하는 게 없을때)
- 한곳만 수정을 했을 때, 예측하지 않은 오류가 발생하지 않을 때

### 개발자에게 비즈니스 로직의 변경은 A 기능이 있는데 B 바꿔주세요 이다
- 개발자는 어떻게할까?
- A기능을 하는 a코드를  찾아 b로 바꾼다
	- a가 여러곳일때?
	- a가 A기능을 하지만 C,D기능도 같이한다면?
### 유연한 구조가 되기위해
- 하나의 기능을 하는곳은 하나만 있어야한다
	- 이 기능을 다른 기능을 위해 사용하는 곳은 없어야한다.
	- 순서 또한 같게 유지해야한다.
- 사용하는 쪽은 내부 구현을 몰라야한다
	- 내부 구현에 자세하게 관여할수록, 변경이 발생했을때 영향도가 높다



#argent 