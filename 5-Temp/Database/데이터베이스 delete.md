---
created: 2024-03-31T22:41:00
date: 2024-04-13T22:56
---
MySQL 서버에서 테이블 삭제는 크게 2단계로 나눠볼 수 있어요.
1. MySQL 서버 내부 삭제 ==> MySQL 서버에서 메타 정보랑 버퍼풀 기타 등등 정리 작업
2. MySQL 서버 외부 삭제 ==> OS 레벨의 삭제 작업으로 filesystem에서 정리 작업

1) innodb_adaptive_hash_index 를 사용하지 않는다며, 테이블의 크기에 관계없이 1번은 많이 개선되어서 일반적으로 그냥 작업해도 괜찮습니다. 
2) innodb adaptive_hash_index를 사용하고 있다면, (사용량이 많은 테이블이라면) 새벽 시간에 작업이 필수 (때로는 점검후 삭제가 필요할 수도 있음)
3) OS filesystem 정리 작업은, 파일이 매우 큰 경우에 한해서, 파일이 어떻게 만들어졌는지 (filesystem에서 블록이 얼마나 연속되어서 파일이 구성되었는지..), 어떤 filesystem인지에 따라서 서비스에 영향을 미칠수도 있어요. 

3번은 이미 기 구축된 내용이니, 삭제하는 시점에 피하기는 어렵습니다. 테이블의 데이터를 삭제하는 작업은 의미가 없고 오히려 불필요한 부하만 가중시킬 가능성이 높습니다. 

많이 걱정되시면 처음에는 새벽 시간을 선택하는 것이 좋아 보입니다.
그리고 그 경험을 토대로 이른 아침시간 또는 낮시간에 진행을 결정함이 좋아요

Drop은 왠만하면 업무시간보단 새벽시간에 하는게 좋긴하죠
어떤변수가 생길지도 모르니까요
물론 담당 DBA는 힘들겠지만요^^; 