---
date: 2024-05-07 22:29:20
updatedAt: 2024-05-07 22:29:56
---

선생님들 야심한 밤에 JPA 질문 하나만 받아주실 수 있으실까요?
현재 부모 엔티티와 자식 엔티티가 OneToMany 단방향 연관관계를 맺고 있습니다
그리고 cascade=CascadeType.All, orphanRemoval = true로 부모 엔티티가 삭제될 때 자식 엔티티도 같이 삭제되게 만들었는데
부모 엔티티의 PK를 가지고 delete query를 날릴 때는 자식도 삭제가 되는데
부모가 가진 다른 컬럼으로 delete query를 날리면 자식은 삭제되지 않습니다. 
원래 JPA가 그런건가요? 아니면 제가 잘못 사용하고 있는 걸까요??

EntityManager 사용해서 쿼리 날리시면 작동 할텐데
JPQL이나 네에티브 쿼리 사용하시면 JPA 라이프 사이클에서 벗어나는 경우 부모만 삭제되고 자식은 남을수도 있어여